{
  "hash": "2708839e5be33d4b8179efb30762ed45",
  "result": {
    "markdown": "---\ntitle: 3. Drawing graphs from data\nsubtitle: Written by Padraic Monaghan\norder: 4\n---\n\n\n# Preparation\n\n- Watch [Lecture week3 part1](), [slides here](ppt/wk3/PSYC401 Lecture week3 part1 handout.pptx)\n\n- Have a go at the [Gent Vocabulary test](https://modules.lancaster.ac.uk/mod/url/view.php?id=1921429), and record your score.\n\n- Have another go at the [Gent Vocabulary test](https://modules.lancaster.ac.uk/mod/url/view.php?id=1921429), and record your score again.\n\n- Have a go at the [Shipley Vocabulary test](https://modules.lancaster.ac.uk/mod/resource/view.php?id=1921430), and record your score. [Scoring sheet here](https://modules.lancaster.ac.uk/mod/resource/view.php?id=1921431)\n\n- Fill in your vocabulary scores into [our course database](https://modules.lancaster.ac.uk/mod/questionnaire/view.php?id=1921432): What is your vocabulary?\n\n- Watch [Lecture week3 part2](https://modules.lancaster.ac.uk/mod/panopto/view.php?id=1992365), [slides here](ppt/wk3/PSYC401 Lecture week3 part2 handout.pptx).\n\n- Watch [Lecture week3 part3](https://modules.lancaster.ac.uk/mod/panopto/view.php?id=1998979), [slides here](ppt/wk3/PSYC401 Lecture week3 part3 handout.pptx).\n\n- Do the [quick quiz](https://modules.lancaster.ac.uk/mod/quiz/view.php?id=1921435).\n\n- Go through the Practical week3 workbook below.\n\n- Attend the practical.\n\n- Pop into the drop in (optional).\n\nAnd hey presto, that's all done!\n\n# Part 1: Revision from last week\n\n## Task 1: Describe and load the data set you found for your take-home task\n\n1.  Your take-home task was to download a data set that accompanied a\n    paper published in Psychological Science. Describe this data set to\n    the rest of your group.\n\n2.  Load your data set into Rstudio.\n\n::: {.callout-warning icon=\"false\" collapse=\"true\"}\n## Hint\n\nuse read_csv(), or one of the other read functions from the last part of\nthe Practical week2 workbook. You may need to load `library(tidyverse)`.\n:::\n\n3.  View the data set, and then make a new data set from this data set,\n    by selecting just two variables.\n\n4.  Is it appropriate to draw a histogram or a scatter plot of the two\n    variables? If so, draw it. If not, why not?\n\n5.  Make sure these commands are in the source window, save them as a\n    new R file, e.g., \"mypsychscidata.r\"\n\nPart 2: Reproduce the Lecture week3 part3 analyses\n\n## Task 2: Load in the data, draw a histogram, find means and standard deviations\n\n6.  Create a new r script, called psyc401_week3.r, and clear out R studio ready for a new script using `rm(list=ls())`.\n\n7.  Download the data files on the vocabulary tests here: [PSYC401-shipley-scores-anonymous-17_18.zip](data/PSYC401-shipley-scores-anonymous-17_18.zip). You should then upload the entire zip folder to the R server.\n\n8.  Load the data into an object called \"dat\" using `read_csv()`, what command line do you use? (remember to set the working directory)\n\n9.  View the data. What command do you use?\n\n10. We can make a histogram of the first time people took the Gent\n    vocabulary test:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhist(dat$Gent_1_score)\n```\n:::\n\n\n11. And a histogram of the second time people took the Gent test, what\n    command line do you use?\n\n12. We can find out means and standard deviations. We will use the\n    `mean()` and the `sd()` functions. However, we need to tell R studio\n    what to do with the missing values (called NA in the View), to do\n    that we have to add an extra bit to the command:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(dat$Gent_1_score, na.rm=TRUE)\n```\n:::\n\n\nThis tells R studio to remove the NA values before computing the mean.\nWhat happens if you don't add `na.rm=TRUE`?\n\nWhat is the mean and standard deviation of Gent_1\\_score and\nGent_2\\_score?\n\n## Task 3: Use ggplot to draw some histograms:\n\n13. Now we are going to use another way of making graphs. This is more\n    flexible than the `hist` function. Here is how to make a histogram\n    of the Gent vocabulary scores:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(dat, aes(x = Gent_1_score) ) + geom_histogram(fill=\"blue\") + labs(title=\"Gent Vocabulary Test 1\", x = \"Vocabulary Score\", y = \"Frequency\")\n```\n:::\n\n\n14. And for the second Gent test:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(dat, aes(x = Gent_2_score) ) + geom_histogram(fill=\"red\") + labs(title=\"Gent Vocabulary Test 2\", x = \"Vocabulary Score\", y = \"Frequency\")\n```\n:::\n\n\n::: {.callout-note icon=\"false\"}\nBreaking it down: `ggplot(dat, aes(x = Gent_1_score))`: this calls the\nplotting function ggplot we specify the data set we will use, `dat` and\nwe set the data for the plot, in this case we say that the x value (so\nthat's what will be along the x-axis in the graph) is the Gent_1\\_score.\nWe put this inside `aes()`, which stands for \"aesthetic\".\n`+ geom_histogram(fill=\"blue\")`: this adds a graph of type histogram and\ncolours it blue\n`+ labs(title=\"Gent Vocabulary Test\", x = \"Vocabulary Score\", y = \"Frequency\")`:\nthis adds labels to the graph: title, the x-axis label and the y-axis\nlabel.\n:::\n\n# Part 3: Practise manipulating data\n\n## Task 4: Practise manipulating data\n\n15. Let's keep only some of the variables from the dataset dat - let's\n    remove Gender_code, and Dyslexia_diagnosis. Keep the other variables\n    using `select()` and load this into summarydata\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummarydata <- select(.data = dat, subject_ID, Age, english_status, Gender, Shipley_Voc_Score, Gent_1_score, Gent_2_score, academic_year)\n```\n:::\n\n\n16. Next we will have a bit more of a wander around the data to get a\n    feel for it. We will first use the function `arrange()`, which\n    changes the order of observations (rows):\n\n\n::: {.cell}\n\n```{.r .cell-code}\narrange(.data = summarydata, Shipley_Voc_Score)\n```\n:::\n\n\nWhat is the lowest score of a participant on the Shipley Vocabulary\nquestionnaire? (You may like to make a new object, which is the result\nof the `arrange` function, then look at it in View).\n\n17. If you want to order from highest to lowest, you have to use the\n    `desc()` function:\n\n\n::: {.cell}\n\n```{.r .cell-code}\narrange(.data = summarydata, desc(Shipley_Voc_Score))\n```\n:::\n\n\nWhat is the highest value on the Shipley Vocabulary Test? How many\nparticipants have this highest score?\n\n18. Next we will use the `filter()` function. This includes or excludes\n    certain observations (rows). Let's just include the participants\n    with English as a first language and put this into a new object,\n    called summarydata_enl. What are the mean and SD values of the\n    Shipley Vocabulary test for the native speakers?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummarydata_enl <- filter(.data = summarydata, english_status == 'native')\n```\n:::\n\n\n19. Make another variable with the z-scores of the Shipley Vocabulary\n    test (see week 1 workbook). What are the maximum and minimum\n    z-scores?\n\n20. Remember to save your script file.\n\n# Part 4: Graphing data\n\n## Task 5: graphing data using histograms\n\n21. Previously we used plot to draw a scatter plot, and hist to draw a\n    histogram. Now, we're going to use ggplot which can draw all kinds\n    of graphs, with a great deal more flexibility. We are going to\n    represent the data to reflect the following relations:\n\n-   English status and gender\n-   Age and vocabulary score\n-   Gender and vocabulary score\n-   Academic year and vocabulary score\n-   Academic year and age\n-   English status and vocabulary score\n-   English status and age\n\nBut first, let's repeat reproducing the histogram from the overhead\nslides to look at the distribution of variables:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(summarydata, aes(x = Gent_1_score)) +\n  geom_histogram(fill=\"blue\") + \n  labs(title=\"Gent Vocabulary Test 1\", x = \"Vocabulary Score\", y = \"Frequency\")\n```\n:::\n\n\n22. Now draw a histogram with Shipley_Voc_Score as the variable and\n    colour it orange. Remember to change the title to something\n    appropriate.\n\n## Task 6: graphing data using bar graphs\n\n23. Next let's look at English status and gender. What types of variable\n    are these? Nominal? Ordinal? Interval/ratio?\n\n24. We will draw a bar graph of the counts. We use `geom_bar()` for\n    this:\n\n-   First try this:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(summarydata, aes(x = Gender)) + \n  geom_bar()\n```\n:::\n\n\n-   This just draws counts of Gender\n-   Now let's draw Gender and English Status together:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(summarydata, aes(x = Gender, fill = english_status)) + \n  geom_bar(position = \"dodge\")\n```\n:::\n\n\nNote 1: We use position dodge so that it puts the bars next to each\nother (what happens if you leave out `position = dodge`?)\n\nNote 2: We use `fill = english_status` so that it fills the different\nbars with different colours according to different english statuses.\n\nWhat is the general pattern of counts? Are there proportional\ndifferences by English status according to gender?\n\n## Task 7: graphing data using scatterplot\n\n25. Next we'll look at Age and Shipley Vocabulary Score. What types of\n    data are these?\n\n26. We will draw a point plot of these values:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(summarydata, aes(x= Age, y = Shipley_Voc_Score)) + geom_point()\n```\n:::\n\n\nWe can add\n`+ labs(title = \"Age by Shipley Vocabulary Score\", x = \"Age\", y = \"Shipley Vocabulary Score\")`\nto tidy up presentation a bit.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(summarydata, aes(x= Age, y = Shipley_Voc_Score)) + \n  geom_point() + \n  labs(title = \"Age by Shipley Vocabulary Score\", x = \"Age\", y = \"Shipley Vocabulary Score\")\n```\n:::\n\n\n-   What is the relation between age and Shipley Vocabulary score?\n\n## Task 8: Draw and interpret a box plot\n\n27. Next on the list of relations to check is gender and vocabulary\n    score. Let's look at Gent_1\\_score against Gender. What type of\n    variables are these?\n\n28. We will draw a box plot (you could draw a bar graph, but box plots\n    tend to be preferred for these combinations of variables - use a bar\n    graph for counts):\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(summarydata, aes(x= Gender, y = Gent_1_score)) + \n  geom_boxplot() \n```\n:::\n\n\n-   Again we can tidy this up by adding labels:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(summarydata, aes(x= Gender, y = Gent_1_score)) + geom_boxplot() + labs(title = \"Vocabulary Score by Gender\", x = \"Gender\", y = \"Gent Vocabulary Score Test 1\")\n```\n:::\n\n\n29. Interpreting box plots: The horizontal line indicates the median.\n    The box indicates where 50% of the data lie. The lines indicate an\n    estimate of the range of the data (minimum and maximum values). The\n    dots indicate outliers. A large box indicates larger standard\n    deviation. If the boxes don't overlap much then this indicates there\n    may be a difference between the groups.\n\n-   Are there differences in Vocabulary according to gender?\n\n30. Now for the other relations:\n\n-   Academic year and vocabulary score\n-   Academic year and age\n-   English status and vocabulary score\n-   English status and age\n\nAt the moment, R is interpreting Academic year as a number. We need to\nturn it into a nominal variable (called a \"factor\" in R studio):\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummarydata$academic_year <- as.factor(summarydata$academic_year)\n```\n:::\n\n\nDraw a graph for each of these relations.\n\n31. Save your R script.\n\n# Part 5: More practise manipulating data\n\n32. For finding minimum and maximum values, we have used the `arrange()`\n    function. However, if you were designing R, what would you call the\n    function that could just print the minimum values for you. See if\n    your intuitions are right (if you have them), and/or search (on the\n    internet) for the R function that finds the minimum or maximum\n    values. What is the R command for finding the minimum and maximum\n    values of the Shipley Vocabulary scores?\n\n33. An important part of using R-studio is that people share their code,\n    their tutorials, and help one another out in troubleshooting.\n    Searching for commands and how to use them on search engines is\n    absolutely fine, and supplementing your learning with others'\n    tutorials is also what the community does.\n\nGlasgow University psychology department has made some of their course\nmaterials available and so for more practise in using the different data\nmanipulation functions, you could have a look at\nhttps://psyteachr.github.io/msc-conv/data-wrangling-1.html Ignore the\npart about making a new R markdown document, use instead an R script.\nJust go straight to clear out the environment rm(list=ls()) then load\nthe libraries tidyverse() and babynames() where the babynames() library\ncontains the database on babies' names that you can explore in the\nexample. And then begin at Section \"4.4: Activity 2: Look at the data\".\n\n# Part 6: Take home exercise\n\nFor the data that you downloaded from the Psychological Science paper\nfor your take home exercise last week, construct some graphs to show\nrelations between variables.\n\n::: callout-note\nUse `geom_bar()` for bar graphs of counts Use `geom_box()` for box plots\nshowing means Use `geom_point()` to show relations between two or more\nvariables Use `geom_histogram()` to show distributions of one or more\nvariables\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}